# –ü—Ä–æ–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ "–í–µ–±-–ª–∞—Ä–µ–∫"

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
Web-–ª–∞—Ä—ë–∫ ‚Äî —ç—Ç–æ —É—á–µ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω —Å —Ç–æ–≤–∞—Ä–∞–º–∏ –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ç–æ–≤–∞—Ä—ã, –¥–æ–±–∞–≤–ª—è—Ç—å –∏—Ö –≤ –∫–æ—Ä–∑–∏–Ω—É –∏ –æ—Ñ–æ—Ä–º–ª—è—Ç—å –∑–∞–∫–∞–∑.
–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ **MVP (Model-View-Presenter)** —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ —Å–ª–∞–±—É—é —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É **MVP (Model-View-Presenter)**:
- `Model` ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö;
- `View` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å;
- `Presenter` ‚Äî –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –º–µ–∂–¥—É Model –∏ View, —É–ø—Ä–∞–≤–ª—è–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π.

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —á–µ—Ä–µ–∑ **EventEmitter** (–±—Ä–æ–∫–µ—Ä —Å–æ–±—ã—Ç–∏–π).

## –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —Å—Ç–µ–∫:

- HTML
- SCSS
- TypeScript
- Webpack

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `src/` ‚Äî –∏—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞
- `src/components/` ‚Äî UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –ª–æ–≥–∏–∫–∞
- `src/components/base/` ‚Äî –±–∞–∑–æ–≤—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –∏ —É—Ç–∏–ª–∏—Ç—ã
- `src/types/` ‚Äî —Ç–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- `src/pages/index.html` ‚Äî —Ä–∞–∑–º–µ—Ç–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `src/index.ts` ‚Äî –∫–æ—Ä–Ω–µ–≤–æ–π —Ñ–∞–π–ª –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–±–æ—Ä–∫–µ –∏ –∑–∞–ø—É—Å–∫—É –ø—Ä–æ–µ–∫—Ç–∞

```bash
npm install
npm run start
# –∏–ª–∏
yarn
yarn start
```

## üìÇ –°–±–æ—Ä–∫–∞
```bash
npm run build
# –∏–ª–∏
yarn build
```


## –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

### –î–∞–Ω–Ω—ã–µ –æ—Ç API
```ts
interface IProduct {
  id: string;
  title: string;
  price: number;
  description: string;
  category: string;
  image: string;
}
```

### –î–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–∞
```ts
interface IOrder {
  payment: string;
  address: string;
  email: string;
  phone: string;
  items: string[];
}
```

### –ö–æ—Ä–∑–∏–Ω–∞
```ts
interface ICartItem {
  productId: string;
  quantity: number;
}
```

## –ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã (components/base/)

### Component<T>
–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.

–°–≤–æ–π—Å—Ç–≤–∞:
- `protected readonly container: HTMLElement`

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:
```ts
protected constructor(container: HTMLElement)
```


–ú–µ—Ç–æ–¥—ã:
```ts
toggleClass(element: HTMLElement, className: string, force?: boolean): void
setText(element: HTMLElement, value: unknown): void
setDisabled(element: HTMLElement, state: boolean): void
setHidden(element: HTMLElement): void
setVisible(element: HTMLElement): void
setImage(element: HTMLImageElement, src: string, alt?: string): void
render(data?: Partial<T>): HTMLElement
```

### Model<T> (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö.

–°–≤–æ–π—Å—Ç–≤–∞:
- `protected data: T`

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:
```ts
constructor(initialData: T)
```

–ú–µ—Ç–æ–¥—ã:
```ts
getData(): T
setData(data: T): void
```

### EventEmitter implements IEvents

–°–ª—É–∂–∏—Ç –±—Ä–æ–∫–µ—Ä–æ–º —Å–æ–±—ã—Ç–∏–π –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.

–°–≤–æ–π—Å—Ç–≤–∞:
- `_events: Map<EventName, Set<Subscriber>>`

–ú–µ—Ç–æ–¥—ã:
```ts
on<T extends object>(event: EventName, callback: (data: T) => void): void
off(event: EventName, callback: Subscriber): void
emit<T extends object>(event: string, data?: T): void
onAll(callback: (event: EmitterEvent) => void): void
offAll(): void
trigger<T extends object>(event: string, context?: Partial<T>): (data: T) => void
```

---

## –ú–æ–¥–µ–ª—å (models/)

### CatalogModel
–•—Ä–∞–Ω–∏—Ç —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –∏ ID –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞.

–°–≤–æ–π—Å—Ç–≤–∞:
- `products: IProduct[]`
- `selectedProductId: string | null`

–ú–µ—Ç–æ–¥—ã:
```ts
setProducts(products: IProduct[]): void
getProducts(): IProduct[]
selectProduct(id: string): void
getSelected(): IProduct | null
```

### CartModel
–£–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ—Ä–∑–∏–Ω–æ–π.

–°–≤–æ–π—Å—Ç–≤–∞:
- `items: Map<string, ICartItem>`

–ú–µ—Ç–æ–¥—ã:
```ts
addItem(product: IProduct): void
removeItem(productId: string): void
hasItem(productId: string): boolean
getItems(): ICartItem[]
clear(): void
getTotalPrice(): number
```

### OrderModel
–°–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–∞ –∏ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç —à–∞–≥–∏.

–°–≤–æ–π—Å—Ç–≤–∞:
- `payment: string | null`
- `address: string | null`
- `email: string | null`
- `phone: string | null`
- `items: string[]`

–ú–µ—Ç–æ–¥—ã:
```ts
isValidStepOne(): boolean
isValidStepTwo(): boolean
submit(): IOrder
```

---

## View (components/views/)

–ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å —Ä–µ–∞–ª–∏–∑—É–µ—Ç `Component<T>` –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é —á–∞—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

- `ProductCardView` ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞
- `CartView` ‚Äî –∫–æ—Ä–∑–∏–Ω–∞
- `OrderFormView` ‚Äî –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
- `ModalView` ‚Äî –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ

---

## Presenter (components/presenters/)

### ProductPresenter
–£–ø—Ä–∞–≤–ª—è–µ—Ç –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —Ç–æ–≤–∞—Ä–æ–≤ –∏ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º –º–æ–¥–∞–ª–∫–∏.

### CartPresenter
–£–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ—Ä–∑–∏–Ω–æ–π, –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏ —É–¥–∞–ª—è–µ—Ç —Ç–æ–≤–∞—Ä—ã.

### OrderPresenter
–£–ø—Ä–∞–≤–ª—è–µ—Ç —à–∞–≥–∞–º–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –¥–∞–Ω–Ω—ã—Ö.

---

## –°–æ–±—ã—Ç–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –°–æ–±—ã—Ç–∏—è View
- `product:click`
- `modal:close`
- `cart:remove`
- `order:next`

### –°–æ–±—ã—Ç–∏—è Model
- `product:add`
- `order:start`
- `order:submit`

---

## –°–µ—Ä–≤–∏—Å—ã

### WebLarekApi

–°–µ—Ä–≤–∏—Å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å `Api`.

–ú–µ—Ç–æ–¥—ã:
```ts
getProducts(): Promise<IProduct[]>
getProduct(id: string): Promise<IProduct>
sendOrder(order: IOrder): Promise<{ success: boolean }>
```

### –£—Ç–∏–ª–∏—Ç—ã
constants.ts
–°–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π, —Å—Ç–∞—Ç—É—Å—ã, –Ω–∞–∑–≤–∞–Ω–∏—è —à–∞–≥–æ–≤, –∏–∫–æ–Ω–∫–∏ –∏ —Ç.–¥.

utils.ts
- createElement(html: string): HTMLElement
- formatPrice(price: number): string
- validateEmail(email: string): boolean
- validatePhone(phone: string): boolean

## –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä (index.ts)

–°–æ–∑–¥–∞—ë—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –º–æ–¥–µ–ª–µ–π, –≤—å—é, –ø—Ä–µ–∑–µ–Ω—Ç–µ—Ä–æ–≤ –∏ —Å–≤—è–∑—ã–≤–∞–µ—Ç –∏—Ö —á–µ—Ä–µ–∑ EventEmitter, –∞ —Ç–∞–∫–∂–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
